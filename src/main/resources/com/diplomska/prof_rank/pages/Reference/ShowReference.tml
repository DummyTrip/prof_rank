<html t:type="layout" title="Reference Show"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
      xmlns:p="tapestry:parameter">

<head>
    <style>
        a, i
        {
            /*text-decoration: none ;*/
            /*color: #0f0f0f;*/
            color: #286090;
        }

        a:link {
            text-decoration: none;
            /*color: #0f0f0f;*/
            color: #286090;

        }

        a:hover
        {
            text-decoration: none;
        }

        a:active {
            text-decoration: none;
        }

        a:visited {
            text-decoration: none;
        }

        .truncate
        {
            width: 250px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        th
        {
            text-align: right;
            padding-right: 10px;
            padding-left: 10px;
        }

        th, td
        {
            padding-bottom: 5px;;
            padding-top: 5px;;
        }

        tr:nth-child(odd) {
            background-color: #eaeaea;
        }

        table
        {
            width: 100%;
        }

        .div-shadow
        {
            /*box-shadow: 10px 10px 10px rgb(237, 237, 240);*/
            box-shadow: 2px 2px 5px #dbdbdb;
        }
    </style>
</head>

<div class="container">

    <div class="col-md-4" style="padding-left: 0px">
        <h3>Пребарај</h3>
        <div class="row">
            <t:form t:id="form">
                <div class="col-md-9">
                    <t:textfield t:id="searchName" value="referenceName"/>
                </div>
                <div class="col-md-2">
                    <input type="submit" value="Search" class="btn btn-default"/>
                </div>
            </t:form>
        </div>

        <h3>Филтрирај:</h3>
        <ul>
            <li>Sekcii</li>
        </ul>

    </div>

    <div class="col-md-8">
        <div class="row">
            <div class="col-md-12">
                <h2>${reference.getName()}</h2>
            </div>
        </div>

        <hr/>

        <div class="row" style="margin-bottom: 15px">
            <div class="col-md-2" style="padding-left: 0px">
                <t:pagelink page="reference/createreference" context="reference.id" style="font-size: 20px; color: #286090" class="btn btn-default">
                    <i class="fa fa-plus-square-o" style="font-size: 20px" aria-hidden="true"/> Додај
                </t:pagelink>
            </div>
        </div>

        <t:loop source="referenceInstances" value="referenceInstance">
            <t:delegate to="block:referenceElement"/>
        </t:loop>

    </div>

</div>

<t:block id="referenceElement">
    <a data-toggle="collapse" href="#${referenceInstance.getId()}" aria-expanded="false" aria-controls="collapseExample">
        <div class="row div-shadow" style="background-color: #fff; padding: 10px; margin-top: 10px;">
            <div class="col-md-11">
                <h4 style="margin: 0px">${displayName}</h4>
            </div>
            <div class="col-md-1">
                <i class="fa fa-chevron-down" style="font-size: 27px" aria-hidden="true"></i>
            </div>
        </div>
    </a>
    <div class="row collapse div-shadow" id="${referenceInstance.getId()}">
        <div class="card card-block" style="background-color: #fff; padding-top: 0px;">
            <table>
                <tbody>
                <t:loop source="attributeValues" value="ari">
                    <tr>
                        <th class="col-md-3">${ari.getAttribute().getName()}:</th>
                        <td class="col-md-9">${ari.getValue()}</td>
                    </tr>
                    <!--<p>${ari.getAttribute().getName()}: ${ari.getValue()}</p>-->
                </t:loop>
                </tbody>
            </table>

        </div>
    </div>

</t:block>


</html>
