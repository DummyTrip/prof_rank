<html t:type="layout" title="Reference Edit"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
      xmlns:p="tapestry:parameter" xmlns:T="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">

<div>
    <h4>${referenceInstance.reference.getName()}</h4>

    <hr/>

    <t:form t:id="form" class="form-horizontal">
        <t:loop source="attributes" value="attribute" index="loopIndex">
            <div class="form-group">
                <label class="control-label col-sm-3">${attribute.getName()}</label>
                <t:if test="textInput">
                    <div class="col-sm-9">
                        <t:mapfield key="${attribute.getId()}" t:map="testMap"/>
                    </div>
                </t:if>
            </div>
        </t:loop>

        <t:if test="numAttributes">
            <div class="form-group">
                <div class="col-sm-3 col-sm-offset-3">
                    <t:submit value="Save"/>
                    <t:pagelink page="reference/editreference" class="btn btn-danger margin-left-danger">Cancel</t:pagelink>
                </div>
            </div>
        </t:if>


    </t:form>

</div>

</html>
